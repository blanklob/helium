{% comment %}
    Passes settings to CSS custom properties and
    renders font-face for shopify typography.

    Usage:
    {%- render 'head-style-tags' -%}
{% endcomment %}


{%- style -%}

  :root {

    --color-brand-primary: {{ settings.color_brand_primary }};
    --color-brand-secondary: {{ settings.color_brand_secondary }};
    --color-text-heading: {{ settings.color_text_heading }};
    --color-text-body: {{ settings.color_text_body }};
    --color-text-links: {{ settings.color_text_links }};
    --color-btn-primary: {{ settings.color_btn_primary }};
    --color-btn-primary-text: {{ settings.color_btn_primary_text }};
    --color-page-background: {{ settings.color_page_background }};

    {%- assign font_heading = settings.font_heading -%}
    {%- assign font_body = settings.font_body -%}

    {% comment %} Heading font declaration {% endcomment %}
    --font-heading-family: {{ font_heading.family }}, {{ font_heading.fallback_families }};
    --font-heading-style: {{ font_heading.style }};
    --font-heading-base-weight: {{ font_heading.weight }};
    --font-heading-base-size: {{ settings.font_heading_base_size }};

    {% comment %} Body font declaration {% endcomment %}
    --font-body-family: {{ font_body.family }}, {{ font_body.fallback_families }};
    --font-body-style: {{ font_body.style }};
    --font-body-base-weight: {{ font_body.weight }};
    --font-body-base-size: {{ settings.font_body_base_size }};
  }

  {% comment %} Checking if the user choosed same font. {% endcomment %}

  {%- if font_heading.family == font_body.family -%}

  {% comment %} Font call {% endcomment %}
  {{- font_heading | font_modify: 'weight', '300' | font_face: font_display: 'swap' -}}
  {{- font_heading | font_modify: 'weight', 'normal' | font_face: font_display: 'swap' -}}
  {{- font_heading | font_modify: 'weight', 'bold' | font_face: font_display: 'swap' -}}
  {{- font_heading | font_modify: 'weight', '800' | font_face: font_display: 'swap' -}}

  {% else %}

  {% comment %} Heading font call {% endcomment %}
  {{- font_heading | font_modify: 'weight', '300' | font_face: font_display: 'swap' -}}
  {{- font_heading | font_modify: 'weight', 'normal' | font_face: font_display: 'swap' -}}
  {{- font_heading | font_modify: 'weight', 'bold' | font_face: font_display: 'swap' -}}
  {{- font_heading | font_modify: 'weight', '800' | font_face: font_display: 'swap' -}}

  {% comment %} Body font call {% endcomment %}
  {{- font_body | font_modify: 'weight', '300' | font_face: font_display: 'swap' -}}
  {{- font_body | font_modify: 'weight', 'normal' | font_face: font_display: 'swap' -}}
  {{- font_body | font_modify: 'weight', 'bold' | font_face: font_display: 'swap' -}}
  {{- font_body | font_modify: 'weight', '800' | font_face: font_display: 'swap' -}}

  {% endif %}
{%- endstyle -%}

